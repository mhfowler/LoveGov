<div id="match-selection">

    <a href="/matchNew/?section=election" style="color:black">
        <div class="match-selection-box match-selection-box-left">
            <div class="match-selection-box-inner">
                <h2>Election Center</h2>
                <div class="match-selection-box-inner-content">
                    <p>
                        Find and compare yourself to your government representatives.
                    </p>
                    <img src="/static/images/match/election_center.png" style="float:left"/>
                    </div>
                </div>
            </div>
        </div>
    </a>

    <a href="/matchNew/?section=social" style="color:black">
        <div class="match-selection-box match-selection-box-center">
            <div class="match-selection-box-inner">
                <h2>Friends & Networks</h2>
                <div class="match-selection-box-inner-content">
                    <p>
                        Find and compare yourself to your government representatives.
                    </p>
                    <img src="/static/images/match/networks.png" style="float:left"/>
                </div>
            </div>
        </div>
    </a>

    <a href="/matchNew/?section=cause" style="color:black">
        <div class="match-selection-box match-selection-box-right">
            <div class="match-selection-box-inner">
                <h2>Your Causes</h2>
                <div class="match-selection-box-inner-content">
                    <p>
                        Find and compare yourself to your government representatives.
                    </p>
                    <img src="/static/images/match/causes.png" style="float:left"/>
                </div>
            </div>
        </div>
    </a>

</div>

<script type="text/javascript">
    $('.match-selection-box').bind('click',function(event)
    {
        var currentSelected = $('.match-selection-box-selected');
        event.preventDefault();
        $('.match-selection-box').removeClass('match-selection-box-selected');
        $(this).addClass('match-selection-box-selected');
        $('.circle-div').removeClass("circle-div-red").addClass("circle-div-gray");
        var circle;
        if ($(this).hasClass('match-selection-box-left'))
        {
            circle = $('.circle-div-left');
            matchAjaxRender($(this).parent('a').attr('href'),currentSelected,$(this));
        }
        else if ($(this).hasClass("match-selection-box-center"))
        {
            circle = $('.circle-div-center');
            matchAjaxRender($(this).parent('a').attr('href'),currentSelected,$(this));
        }
        else
        {
            circle = $('.circle-div-right');
            matchAjaxRender($(this).parent('a').attr('href'),currentSelected,$(this));
        }
        circle.removeClass('circle-div-gray');
        circle.addClass("circle-div-red");
    });

    function matchAjaxRender(link,fromObj,toObj)
    {
        var directionFrom = null;
        var directionTo = null;
        if (fromObj.hasClass("match-selection-box-left"))
        {
            if (!toObj.hasClass("match-selection-box-left"))
            {
                directionFrom = "left";
                directionTo = "right";
            }
        }
        else if (fromObj.hasClass("match-selection-box-center"))
        {
            if (toObj.hasClass("match-selection-box-left"))
            {
                directionFrom = "right";
                directionTo = "left";
            }
            else if (toObj.hasClass("match-selection-box-right"))
            {
                directionFrom = "left";
                directionTo = "right";
            }
        }
        else
        {
            if (toObj.hasClass("match-selection-box-left"))
            {
                directionFrom = "right";
                directionTo = "left";
            }
            else if (toObj.hasClass("match-selection-box-center"))
            {
                directionFrom = "left";
                directionTo = "right";
            }
        }
        var getData = new QueryData(link.substring(link.indexOf('?')+1));
        $.ajax
        ({
            url:'/matchNew/',
            type:'GET',
            data:{section:getData.section},
            success: function(data)
            {
                var returned = eval('(' + data + ')' );
                if (directionFrom != null)
                {
                    $('#match-ajax-content').hide({effect:'slide',speed:2000, direction:directionFrom});
                    setTimeout(function()
                    {
                        $('#match-ajax-content').html(returned.html);
                    },300);
                    $('#match-ajax-content').show({effect:'slide',speed:1750,direction:directionTo});


                }
                else
                {
                    $('#match-ajax-content').html(returned.html);
                }
            },
            error: function()
            {

            }
        });
    }
</script>